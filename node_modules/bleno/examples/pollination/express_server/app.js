// import mongoose
const mongoose = require('mongoose');
const express = require('express');
const app = express();

// default mongoose conn:
const mongoDB = 'mongodb://127.0.0.1/poll_test';
mongoose.connect(mongoDB);


mongoose.Promise = global.Promise;

// default connection
const db = mongoose.connection;

// return default error
// db.on('error', console.error.bind(console, 'mongo err'));


app.post('/createSingleVoteQuestion', function (req, res) {
    let single_vote_question =  req.body.singleVoteQuestion

    single_vote_question.save((err, doc) => {
        console.log('saving')
        err && console.log(err);
        console.log(doc)


        res.send('question successfully created !!!');
        res.end()
    })

    
});

